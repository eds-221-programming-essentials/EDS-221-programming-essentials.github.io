---
title: "Day 1: Tasks & activities - KEY"
subtitle: "Project organization, data import, file paths"
editor_options: 
  chunk_output_type: console
---

## Data import and exploration

1. Attach the `tidyverse` and `janitor` packages in a new code chunk

::: {.callout-important}
```{r}
#| message: false
#| warning: false

library(tidyverse)
library(janitor)
```
:::

2. Read in the `stl_blood_lead.csv` data as `stl_lead` and use `janitor::clean_names` to convert all variable names to lower snake case

::: {.callout-important}
```{r}
#| eval: false
stl_lead <- read_csv(here::here("data", "stl_blood_lead.csv")) |>
  janitor::clean_names() # Convert variable names to lower snake case
```

```{r}
#| include: false
stl_lead <- read_csv(here::here("course-materials","eod-practice", "data","stl_blood_lead.csv")) |>
  janitor::clean_names()
```
:::

3. Do some basic exploration of the dataset

::: {.callout-important}
```{r}
summary(stl_lead) # View summary statistics of each variable
```
:::

4. Create a new data frame called `stl_lead_prop` that has one additional column called `prop_white` that returns the percent of each census tract identifying as white (variable `white` in the dataset divided by variable `totalPop`, times 100)

::: {.callout-important}
```{r}
stl_lead_prop <- stl_lead |> # Call data for wrangling
  mutate(prop_white = (white / total_pop)*100) # Create a new variable and populate
```
:::

## Visualize data

1. Create a scatterplot graph of the percentage of children in each census tract with elevated blood lead levels versus the percent of each census tract identifying as white

::: {.callout-important}
```{r}
stl_lead_plot <- ggplot(data = stl_lead_prop, # Set data for plotting
                        aes(x = prop_white, y = pct_elevated)) + # Assign x- and y-axis variables
  geom_point() # Create scatterplot

stl_lead_plot # View scatterplot
```
:::

2. Save a **.png** of the scatterplot to **figs**, with dimensions of (6” x 5”) (width x height)

::: {.callout-important}
```{r}
#| eval: false
ggsave(stl_lead_plot,
       here::here("figs", "stl_lead_plot.png"), # Set filepath to save scatterplot
       width = 6, height = 5, units = c("in")) # Set dimensions with units
```
:::

3. Create a histogram of the percentage of children in each census tract with elevated blood lead levels

::: {.callout-important}
```{r}
#| message: false

stl_lead_hist <- ggplot(data = stl_lead_prop, # Set data for plotting
       aes(x = pct_elevated)) + # Assign x-axis variable
  geom_histogram() # Create histogram

stl_lead_hist # View histogram
```
:::

4. Save a **.jpg** of the scatterplot to **figs**

::: {.callout-important}
```{r}
#| eval: false
ggsave(stl_lead_hist,
       here::here("figs", "stl_lead_hist.jpg")) # Set filepath to save histogram
```
:::
